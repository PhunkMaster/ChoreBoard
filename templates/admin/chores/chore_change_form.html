{% extends "admin/change_form.html" %}
{% load static %}

{% block after_field_sets %}
  {{ block.super }}

  {% if original %}
  <div class="submit-row" style="margin-top: 20px; padding: 10px 20px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px;">
    <h3 style="margin-top: 0;">Manual Instance Creation</h3>
    <p style="color: #666; margin-bottom: 10px;">
      Create a chore instance immediately for today. The instance will be due at 23:59:59 today.
    </p>

    <form method="post" action="{% url 'admin:create_chore_instance_now' original.pk %}" style="display: inline;">
      {% csrf_token %}
      <button type="submit" class="button" style="background-color: #28a745; color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer;">
        âž• Create Instance Now
      </button>
    </form>

    <p style="margin-top: 10px; font-size: 0.9em; color: #666;">
      <strong>Note:</strong> This will check for existing instances today and prevent duplicates.
    </p>
  </div>
  {% endif %}
{% endblock %}
